
/******************************************************************************/
// Data
/******************************************************************************/

let SOCKET

/******************************************************************************/
// Helper
/******************************************************************************/

const hasSocketInName = symbol => symbol.toString().includes('socket')

/******************************************************************************/
// Main
/******************************************************************************/

function getConnectionSocket (connection) {

  if (this !== undefined)
    connection = this

  if (!SOCKET)
    SOCKET = Object.getOwnPropertySymbols(connection)
      .filter(hasSocketInName)[0]

  return connection[SOCKET]

}

/******************************************************************************/
// Exports
/******************************************************************************/

export default getConnectionSocket
